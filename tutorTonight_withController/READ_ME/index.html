<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
        <title>My Sample App - Developer Instructions</title>
        <link rel="stylesheet" href="css/style.css" type="text/css" media="screen, projection">
        <script>var runOnLoad=function(c,o,d,e){function x(){for(e=1;c.length;)c.shift()()}o[d]?(document[d]('DOMContentLoaded',x,0),o[d]('load',x,0)):o.attachEvent('onload',x);return function(t){e?o.setTimeout(t,0):c.push(t)}}([],window,'addEventListener');</script>
        <script type="text/javascript" src="js/CollapsibleLists.compressed.js">
        </script>
        <script type="text/javascript">
            runOnLoad(function() { CollapsibleLists.apply(); });
        </script>
    </head>
    <body>

    <h3 class="align-center">
        <img src="img/ic_launcher.png" width="128px"/><br/>
My Sample App
    </h3>
<p>
This download package contains an Xcode project for a fully functioning Mobile App, which uses your configured AWS resources and identifiers, to demonstrate the project features you've selected. You can use this project as a starting point for your own product development, or you can follow the instructions below to copy and paste the required code into your own product.
</p>
<p>
<strong> IMPORTANT: </strong>This package was custom generated for you, using your selected project options. It contains your own resource and account identifiers and should be kept private.<br/><br/>
</p>

        <div id="listContainer">
            <ul class="collapsibleList">

<!-- begin - heading = Setup -->

  <li>
Setup
    <ul>

<!-- begin - sub-heading = Setup -->

      <li>
Integrated Development Environment

<!-- begin - steps list -->

        <ul>

<!-- begin - step -->

          <li class="lastLevel">
<br/><p><b>
1. System Requirements</b></p><br/>

Your system must include the following:</br>&nbsp;&nbsp;- Xcode 7.1 or newer
<br/>
          </li>

<!-- end - step -->


<!-- begin - step -->

          <li class="lastLevel">
<br/><p><b>
2. Install Xcode</b></p><br/>

If you have not already installed the Xcode IDE (Integrated Development Environment) on your host, you can do download it from the following location:
<br/>
<SPAN style="font-family: courier"><A TARGET="_blank" HREF="https://developer.apple.com/xcode/download">https://developer.apple.com/xcode/download</A></SPAN>
<br/>

<br/>
          </li>

<!-- end - step -->

        </ul>

<!-- end - steps list -->


<br/>
      </li>

<!-- end - sub-heading = Integrated Development Environment -->

    </ul>
  </li>

<!-- end - heading = Setup -->


<!-- begin - heading = Compile and Run -->

  <li>
Compile and Run
    <ul>

<!-- begin - sub-heading = Compile and Run -->

      <li>
Launch App

<!-- begin - steps list -->

        <ul>

<!-- begin - step -->

          <li class="lastLevel">
<br/><p><b>
3. Open MySampleApp Project in Xcode</b></p><br/>

Once you have downloaded and unzipped the sample app project files, please open Xcode and choose...<br/><p><b>Open another project...</b></p><br/>Find the folder where you unzipped the zip file and select the "MySampleApp/MySampleApp.xcodeproj" file. Xcode will open the project.
<br/>
          </li>

<!-- end - step -->


<!-- begin - step -->

          <li class="lastLevel">
<br/><p><b>
4. Run MySampleApp</b></p><br/>

Once Xcode finishes opening the project choose...<br/><p><b>Project -&gt; Run</b></p><br/>Xcode will build and launch the app on a device or on the iOS Simulator.
<br/>
          </li>

<!-- end - step -->

        </ul>

<!-- end - steps list -->


<br/>
      </li>

<!-- end - sub-heading = Launch App -->


<!-- begin - sub-heading = Compile and Run -->

      <li>
User Identity - Try It!

<!-- begin - steps list -->

        <ul>

<!-- begin - step -->

          <li class="lastLevel">
<br/><p><b>
5. Demonstrate User Identity</b></p><br/>

Launch MySampleApp on a device or on the iOS Simulator. If you've selected to enable User Sign-in as required in your project, the sign-in page will launch and you should sign in to the app. If you've selected to enable User Sign-in as optional, tap the "Sign-In" button on the top right to launch the sign-in page. Sign-in to one of the providers you have set up and it should take you back to the main screen and the "Sign-In" button will change to "Sign-Out". Then, tap on the "User Sign-in" demonstration section of the App and tap on the "Demo User Identity" button at the bottom. You will see a unique identifier for the user as well as a name for the user. This unique identifier identifies the user to AWS systems and provides the user temporary permissions to access your configured AWS resources.
<br/>
          </li>

<!-- end - step -->


<!-- begin - step -->

          <li class="lastLevel">
<br/><p><b>
6. Verify User Identity</b></p><br/>

Find the Cognito Identity Pool that your project is using. You can check which identity pool your project is using by going to the "Resources" section in the Mobile Hub console. The name of the identity pool should match the name of your project appended by "MOBILEHUB".<br/><br/> Go to the AWS Cognito console. Click on the Cognito Identity Pool for your project and you will see that the "Total identities" value is now greater than zero. If you used Facebook or Google Login then you will see the number of authenticated users for that provider under the "Authentication methods" in the Cognito console.
<br/>
<SPAN style="font-family: courier"><A TARGET="_blank" HREF="https://console.aws.amazon.com/cognito/">https://console.aws.amazon.com/cognito/</A></SPAN>
<br/>

<br/>
          </li>

<!-- end - step -->

        </ul>

<!-- end - steps list -->


<br/>
      </li>

<!-- end - sub-heading = User Identity - Try It! -->


<!-- begin - sub-heading = Compile and Run -->

      <li>
Push Notifications - Try It!

<!-- begin - steps list -->

        <ul>

<!-- begin - step -->

          <li class="lastLevel">
<br/><p><b>
7. Setup Certificates for Push Notifications</b></p><br/>

Make sure you have uploaded your Apple iOS Push Services Certificate to the Mobile Hub console. This certificate should be downloaded from Apple's developer website and then exported from the Keychain Access Application. <br/>In Keychain Access, under "My Certificates", find the certificate that should be called "Apple Development IOS Push Services: " or "Apple Production IOS Push Services: " followed by the Bundle Identifier of your application. Right-click on it, select "Export Apple Development IOS Push Services:...", and save it as a .p12 file. You will be prompted to enter a password which will be used to protect the exported certificate. You may enter an export password when prompted. Note that you might have to enter your OS X password to allow Keychain Access to export the certificate from your keychain. <br/>(Please note that the certificate must be exported from the computer where the certificate key was created.)
<br/>
          </li>

<!-- end - step -->


<!-- begin - step -->

          <li class="lastLevel">
<br/><p><b>
8. Setup MySampleApp for Push Notifications</b></p><br/>

You must change the Bundle Identifier of the App to match the Bundle Identifier of the certificate you uploaded for your application. (eg. "com.yourdomain.yourappname"). <br/>To change the Bundle Identifier of the sample app, click on "MySampleApp" project in Xcode, then click on the Target "MySampleApp". Click on the "General" tab, and you should see a text box to change the Bundle Identifier under the "Identity" section.
<br/>
          </li>

<!-- end - step -->


<!-- begin - step -->

          <li class="lastLevel">
<br/><p><b>
9. Demonstrate Push Notifications</b></p><br/>

In order to demonstrate push notifications, you must launch MySampleApp on a physical device, since the iOS Simulator cannot receive push notifications. Go to the "Push Notifications" demonstration section of the app and tap the "Demo Push Notifications" button. Tap the switch next to "Receive Push Notifications" and tap "Allow" on the prompt to Allow the app to receive push notifications.
<br/>
          </li>

<!-- end - step -->


<!-- begin - step -->

          <li class="lastLevel">
<br/><p><b>
10. Verify Push Notifications</b></p><br/>

Go to the Amazon SNS console, click on "topics" in the left menu, and select a topic to which you want to publish a message. Compose in plain text (RAW) in the next screen and click "Publish". If the app enables "Receive Push Notifications" and is subscribed to the given topic, it will receive the message. If the app is running in the foreground, the message will be shown in a dialog box in the app.  In the app is not in the foreground, the message will be shown in the notification center.
<br/>
<SPAN style="font-family: courier"><A TARGET="_blank" HREF="https://console.aws.amazon.com/sns/">https://console.aws.amazon.com/sns/</A></SPAN>
<br/>

<br/>
          </li>

<!-- end - step -->

        </ul>

<!-- end - steps list -->


<br/>
      </li>

<!-- end - sub-heading = Push Notifications - Try It! -->


<!-- begin - sub-heading = Compile and Run -->

      <li>
Content Delivery - Try It!

<!-- begin - steps list -->

        <ul>

<!-- begin - step -->

          <li class="lastLevel">
<br/><p><b>
11. Demonstrate Content Delivery</b></p><br/>

Launch MySampleApp on a device or on the iOS Simulator and click on the "App Content Delivery" demonstration section of the app. Click the "Demo Content Delivery" button on the bottom of the page, and it will display a remote file explorer, which displays the list of files in your Amazon S3 bucket. You can find a link to your Amazon S3 bucket and the name of your CloudFront Distribution (if you selected the Multi-Region option) in the "Resources" section of the Mobile Hub console. You will see some example image files which have been placed in the content folder in your Amazon S3 bucket, which you can use to demonstrate downloading files and storing them in the local device cache.
<br/>
          </li>

<!-- end - step -->


<!-- begin - step -->

          <li class="lastLevel">
<br/><p><b>
12. Verify Content Delivery</b></p><br/>

Launch MySampleApp on a device or on the iOS Simulator and click on the "App Content Delivery" demonstration section of the app. Click the "Demo Content Delivery" button on the bottom of the page. Once the files are listed, tap on one of them to see a menu of options, and then tap the "Download" option. The file will be downloaded and placed in your device's local cache. If you have set a cache size limit, then you will see the "Available" cache size bytes decrease. Tap on the same row, again, and select "Delete Local Copy" and the "Available" cache size bytes will return to the max value. If you "Download & Pin" a file, the file will not count toward your cache size limit, and it will not be removed if your cache exceeds the set cache size limit. You may also tap on the action button on the top right corner for more options.
<br/>
          </li>

<!-- end - step -->

        </ul>

<!-- end - steps list -->


<br/>
      </li>

<!-- end - sub-heading = Content Delivery - Try It! -->


<!-- begin - sub-heading = Compile and Run -->

      <li>
User Files - Try It!

<!-- begin - steps list -->

        <ul>

<!-- begin - step -->

          <li class="lastLevel">
<br/><p><b>
13. Demonstrate User File Storage</b></p><br/>

Launch MySampleApp on a device or on the iOS Simulator and click on the "User Data Storage" demonstration section of the app. Click the "Demo User File Storage" button on the bottom of the page, and it will load the files in the S3 bucket created for your project. By default you will have a public and a private folder. Your private folder can only be accessed if you login to the sample app. You can find the name of the S3 bucket in the "Resources" section of the Mobile Hub console. You can open a menu with options you can perform on your bucket by tapping on the action button on the top right corner.
<br/>
          </li>

<!-- end - step -->


<!-- begin - step -->

          <li class="lastLevel">
<br/><p><b>
14. Verify User File Storage</b></p><br/>

Launch MySampleApp on a device or on the iOS Simulator and click on the "User Data Storage" demonstration section of the app. Click the "Demo User File Storage" button on the bottom of the page, and it will load the files in the S3 bucket created for your project. Tap on the action button on the top right corner, a menu will appear, tap on "Upload", choose an image from your photos, choose a name for this file and tap "Done". A progress bar will display the file name you chose. After the upload is complete, tap on the row for the file and tap "Download" to download the file to the local storage of the app. After the file has downloaded successfully, you may open or delete it by tapping on it again.
<br/>
          </li>

<!-- end - step -->

        </ul>

<!-- end - steps list -->


<br/>
      </li>

<!-- end - sub-heading = User Files - Try It! -->


<!-- begin - sub-heading = Compile and Run -->

      <li>
User Profile Data - Try It!

<!-- begin - steps list -->

        <ul>

<!-- begin - step -->

          <li class="lastLevel">
<br/><p><b>
15. Demonstrate User Profile Data</b></p><br/>

Launch MySampleApp on a device or on the iOS Simulator and click on the "User Data Storage" demonstration section of the app. Click the "Demo User Profile Data" button on the bottom of the page, and it will load the profile data for the current user and update the appearance with the user's theme. You will see four buttons which allow you to update the theme for the current user. Try changing the theme for the current user by tapping on one of the buttons.<br/>In order to sync user profile data across multiple devices, the user must sign in using an identity provider, such as Facebook or Google.
<br/>
          </li>

<!-- end - step -->


<!-- begin - step -->

          <li class="lastLevel">
<br/><p><b>
16. Verify Unauthenticated User Profile Data</b></p><br/>

Launch MySampleApp on a device or on the iOS Simulator and click on the "User Data Storage" demonstration section of the app. Click the "Demo User Profile Data" button on the bottom of the page, and pick a different color theme. The color theme is saved to the user's profile data. Now to verify that it was saved correctly, re-run the app on the same device or simulator. The color theme should be the same as the one you previously selected.
<br/>
          </li>

<!-- end - step -->


<!-- begin - step -->

          <li class="lastLevel">
<br/><p><b>
17. Verify Authenticated User Profile Data</b></p><br/>

Launch MySampleApp on a device or on the iOS Simulator and click on the "User Data Storage" demonstration section of the app. Click the "Demo User Profile Data" button on the bottom of the page, and pick a different color theme. The color theme is saved to the user's profile data. Now to verify that it was saved correctly, install the "MySampleApp" on a different device or run it on a different Simulator than the one you previously used. Sign in with the same user and you should see the color theme change to the one you previously selected.
<br/>
          </li>

<!-- end - step -->

        </ul>

<!-- end - steps list -->


<br/>
      </li>

<!-- end - sub-heading = User Profile Data - Try It! -->


<!-- begin - sub-heading = Compile and Run -->

      <li>
App Analytics - Try It!

<!-- begin - steps list -->

        <ul>

<!-- begin - step -->

          <li class="lastLevel">
<br/><p><b>
18. Demonstrate App Analytics</b></p><br/>

Launch MySampleApp on a device or on the iOS Simulator and click on the "App Analytics" demonstration section of the app, and then click on "Demo App Analytics". You will see buttons, which let you generate a custom event or a monetization event. Click the buttons and MySampleApp will submit the events to the AWS Mobile Analytics service.
<br/>
          </li>

<!-- end - step -->

        </ul>

<!-- end - steps list -->


<br/>
      </li>

<!-- end - sub-heading = App Analytics - Try It! -->


<!-- begin - sub-heading = Compile and Run -->

      <li>
Cloud Logic - Try It!

<!-- begin - steps list -->

        <ul>

<!-- begin - step -->

          <li class="lastLevel">
<br/><p><b>
19. Demonstrate Cloud Logic</b></p><br/>

Launch MySampleApp on a device or on the iOS Simulator and click on the "Cloud Logic" demonstration section of the app. Click the "Demo Cloud Logic" button on the bottom of the page, and you will see a generic AWS Lambda function invoker form. Simply choose the AWS Lambda function you want to invoke, set the request parameters and click the "INVOKE" button. The app will invoke the AWS Lambda function and show the results in the bottom of the page. By default, the Mobile Hub creates a "hello-world" AWS Lambda function for you, which simply echoes back the value of the request input field with "key1" as its key.
<br/>
          </li>

<!-- end - step -->


<!-- begin - step -->

          <li class="lastLevel">
<br/><p><b>
20. Verify Cloud Logic</b></p><br/>

Launch MySampleApp on a device or on the iOS Simulator and click on the "Cloud Logic" demonstration section of the app. Click the "Demo Cloud Logic" button on the bottom of the page, tap on the "Invoke" button to trigger the "hello-world" function. Try changing the value of "key1" to a string different than "value1" then invoke the function again by pressing the "INVOKE" button. You should see your new value populated in the "Result" text box. Sign in to the AWS Lambda Console and try modifying the behavior of the "hello-world" function by editing the code inline on the console. Also, you can create your own functions and invoke them by name from "MySampleApp", AWS Lambda has "blueprints" with sample code for various tasks to help you get started. Please note that if you create additional Lambda functions in the AWS Lambda console, you must return to the Cloud Logic configuration panel to enable access to those functions from within your mobile app.
<br/>
<SPAN style="font-family: courier"><A TARGET="_blank" HREF="https://console.aws.amazon.com/lambda/">https://console.aws.amazon.com/lambda/</A></SPAN>
<br/>

<br/>
          </li>

<!-- end - step -->

        </ul>

<!-- end - steps list -->


<br/>
      </li>

<!-- end - sub-heading = Cloud Logic - Try It! -->

    </ul>
  </li>

<!-- end - heading = Compile and Run -->


<!-- begin - heading = Discover -->

  <li>
Discover
    <ul>

<!-- begin - sub-heading = Discover -->

      <li>
What's in here?

<!-- begin - steps list -->

        <ul>

<!-- begin - step -->

          <li class="lastLevel">
<br/><p><b>
21. Project Folders</b></p><br/>

The project contains a number of folders under MySampleApp/MySampleApp/, which contain source code. Here is a brief explanation of those folders and what they contain.<br/><br/>&nbsp;&nbsp;- <B>Demo</B> - Demonstration features, you can clone and edit for your own app or discard.<br/>&nbsp;&nbsp;- <B>App</B> - Example Application user interface and logic, you can clone and edit for your own app or discard.<br/>&nbsp;&nbsp;- <B>AmazonAws</B> - Middle layer helper code, simplifies use of various SDKs and adds functionality.<br/>&nbsp;&nbsp;- <B>Sdk</B> - Software development kits</B>
<br/>
          </li>

<!-- end - step -->


<!-- begin - step -->

          <li class="lastLevel">
<br/><p><b>
22. Identity Manager - Identifies the User</b></p><br/>

This section simply provides information about the generated code in the MySampleApp project.<br/><br/>

The AWS Identity Manager keeps track of the identity of the current app user, by storing the user's Amazon Cognito Identity ID. In order to do this, the identity manager handles some of the App Delegate calls from the iOS platform, and it is partially responsible for signing the user in to the app, regardless of whether a third party identity provider, such as Facebook or Google, is in use.
<br/>
<SPAN style="font-family: courier"><A TARGET="_BLANK" HREF="file:../MySampleApp/MySampleApp/AmazonAws/AWSMobileHubHelper.framework/Headers/AWSIdentityManager.h">MySampleApp/MySampleApp/AmazonAws/AWSMobileHubHelper.framework/Headers/AWSIdentityManager.h</A></SPAN>
<br/>
          </li>

<!-- end - step -->


<!-- begin - step -->

          <li class="lastLevel">
<br/><p><b>
23. Push Manager - Manages Registration and Subscriptions</b></p><br/>

This section simply provides information about the generated code in the MySampleApp project.<br/><br/>

The Push Manager registers the app on the device with Apple Push Notification Service (APNS) and registers the resulting device token in Amazon SNS. The result of this registration process is an Amazon SNS Endpoint ARN (Amazon Resource Name), which can be used to send push notifications directly to a specific device. The Push Manager also manages Amazon SNS topic subscriptions, allowing the app to subscribe to Amazon SNS topics, which let you target groups of devices with push notifications.
<br/>
<SPAN style="font-family: courier"><A TARGET="_BLANK" HREF="file:../MySampleApp/MySampleApp/AmazonAws/AWSMobileHubHelper.framework/Headers/AWSPushManager.h">MySampleApp/MySampleApp/AmazonAws/AWSMobileHubHelper.framework/Headers/AWSPushManager.h</A></SPAN>
<br/>
          </li>

<!-- end - step -->


<!-- begin - step -->

          <li class="lastLevel">
<br/><p><b>
24. Content Manager - Downloads and Caches Asset Files</b></p><br/>

This section simply provides information about the generated code in the MySampleApp project.<br/><br/>

The AWS Content Manager manages caching and transfer of files from Amazon S3 and/or Amazon CloudFront. It lists files directly using S3, regardless of whether Amazon CloudFront is in use. It maintains a size-limited cache for files stored on the local device and provides operations to set the cache size limit and clear files from the local cache. Files may be pinned to the cache, so that they are not automatically removed when the cache size limit is exceeded. The Content Manager serves as the application's interface into the App Content Delivery feature.
<br/>
<SPAN style="font-family: courier"><A TARGET="_BLANK" HREF="file:../MySampleApp/MySampleApp/AmazonAws/AWSMobileHubHelper.framework/Headers/AWSContentManager.h">MySampleApp/MySampleApp/AmazonAws/AWSMobileHubHelper.framework/Headers/AWSContentManager.h</A></SPAN>
<br/>
          </li>

<!-- end - step -->


<!-- begin - step -->

          <li class="lastLevel">
<br/><p><b>
25. User File Manager - Transfers Public and Private Files</b></p><br/>

This section simply provides information about the generated code in the MySampleApp project.<br/><br/>

The User File Manager uploads and downloads files from Amazon S3. It caches downloaded files locally on the device in a size-limited cache. Downloaded files may be pinned to the cache, so that they are not automatically removed when the cache size limit is exceeded. The User File Manager provides access to two folders in the Amazon S3 bucket, one called "public/" for public files, which are accessible to any user of the app, and one called "private/" which contains a sub-folder for each Amazon Cognito identified user that is signed-in to the app. Files in the user's private folder can only be accessed by that user. The User File Manager serves as the application's interface into the file-related functionality of the User Data Storage feature.
<br/>
<SPAN style="font-family: courier"><A TARGET="_BLANK" HREF="file:../MySampleApp/MySampleApp/AmazonAws/AWSMobileHubHelper.framework/Headers/AWSUserFileManager.h">MySampleApp/MySampleApp/AmazonAws/AWSMobileHubHelper.framework/Headers/AWSUserFileManager.h</A></SPAN>
<br/>
          </li>

<!-- end - step -->


<!-- begin - step -->

          <li class="lastLevel">
<br/><p><b>
26. Cognito Sync Client - Stores and Syncs User Profile Data</b></p><br/>

This section simply provides information about the generated code in the MySampleApp project.<br/><br/>

User Profile Data is part of the User Data Storage feature. It allows you to save key/value pairs in datasets for each user of your mobile app. This can be used to store things like game progress or user settings. For users who sign in to the app, those datasets will be synchronized across all of the user's devices. This functionality is provided by the Amazon Cognito Sync service, and the Amazon Cognito Sync client is the application's interface to that service. There is no additional bootstrapping required to get an instance of the Amazon Cognito Sync client beyond what is already done by the AWS Mobile Client.
<br/>
<SPAN style="font-family: courier"><A TARGET="_BLANK" HREF="file:../MySampleApp/MySampleApp/Demo/UserSettings/ColorThemeSettings.swift">MySampleApp/MySampleApp/Demo/UserSettings/ColorThemeSettings.swift</A></SPAN><BR/><BR/><SPAN style="font-family: courier"><TABLE style="border:0; "><TR><TD><PRE>40</PRE></TD><TD style="width:900px;background-color:#FFFFFF;color:#000000;"><PRE>    func loadSettings(completionBlock: (ColorThemeSettings?, NSError?) -> Void) {</PRE></TD></TR><TR><TD><PRE>41</PRE></TD><TD style="width:900px;background-color:#DDDDDD;color:#0000FF;"><PRE>        let syncClient: AWSCognito = AWSCognito.defaultCognito()</PRE></TD></TR><TR><TD><PRE>42</PRE></TD><TD style="width:900px;background-color:#FFFFFF;color:#000000;"><PRE>        let userSettings: AWSCognitoDataset = syncClient.openOrCreateDataset("user_settings")</PRE></TD></TR><TR><TD><PRE>43</PRE></TD><TD style="width:900px;background-color:#FFFFFF;color:#000000;"><PRE>        </PRE></TD></TR></TABLE></SPAN>
<br/>

<br/>
          </li>

<!-- end - step -->


<!-- begin - step -->

          <li class="lastLevel">
<br/><p><b>
27. Amazon Mobile Analytics Client - Records App Analytics events</b></p><br/>

This section simply provides information about the generated code in the MySampleApp project.<br/><br/>

The App Analytics feature creates a bootstrapped instance of the Amazon Mobile Analytics client in your mobile app. This client component can be used to generate monetization events to track user in-app purchases. It can also be used to create any type of custom event you like with any custom key/value pair attributes and metrics. These events will show up in the Amazon Mobile Analytics console and they can be exported to Amazon S3 or Amazon Redshift, so you can archive your data or perform custom analysis.
<br/>
<SPAN style="font-family: courier"><A TARGET="_BLANK" HREF="file:../MySampleApp/MySampleApp/AmazonAws/AWSMobileClient.swift">MySampleApp/MySampleApp/AmazonAws/AWSMobileClient.swift</A></SPAN><BR/><BR/><SPAN style="font-family: courier"><TABLE style="border:0; "><TR><TD><PRE>20</PRE></TD><TD style="width:900px;background-color:#DDDDDD;color:#0000FF;"><PRE>    var mobileAnalytics: AWSMobileAnalytics!</PRE></TD></TR></TABLE></SPAN>
<br/>

<br/>
          </li>

<!-- end - step -->


<!-- begin - step -->

          <li class="lastLevel">
<br/><p><b>
28. Cloud Logic Helper - Invokes AWS Lambda functions</b></p><br/>

This section simply provides information about the generated code in the MySampleApp project.<br/><br/>

Cloud logic allows you to invoke AWS Lambda functions from within your mobile app. This helper class provides a convenient interface to invoke your lambda functions and handle the results asynchronously in your app.
<br/>
<SPAN style="font-family: courier"><A TARGET="_BLANK" HREF="file:../MySampleApp/MySampleApp/AmazonAws/AWSMobileHubHelper.framework/Headers/AWSCloudLogic.h">MySampleApp/MySampleApp/AmazonAws/AWSMobileHubHelper.framework/Headers/AWSCloudLogic.h</A></SPAN>
<br/>
          </li>

<!-- end - step -->

        </ul>

<!-- end - steps list -->


<br/>
      </li>

<!-- end - sub-heading = What's in here? -->


<!-- begin - sub-heading = Discover -->

      <li>
Where can I learn more?

<!-- begin - steps list -->

        <ul>

<!-- begin - step -->

          <li class="lastLevel">
<br/><p><b>
29. AWS Mobile SDK for iOS</b></p><br/>

All of the code in the sample app is built on top of the AWS Mobile SDKs. The SDKs that are included in your download depend on which features you've enabled in your project. You may want to use more advanced capabilities directly in the one of the AWS Mobile SDKs. To learn more, visit
<br/>
<SPAN style="font-family: courier"><A TARGET="_blank" HREF="http://docs.aws.amazon.com/mobile/sdkforios/developerguide/">http://docs.aws.amazon.com/mobile/sdkforios/developerguide/</A></SPAN>
<br/>

<br/>
          </li>

<!-- end - step -->


<!-- begin - step -->

          <li class="lastLevel">
<br/><p><b>
30. Helper Library API Reference</b></p><br/>

The project includes a helper library which is built on top of the AWS iOS SDK. To see all the available functionality please refer the API documentation in the READ_ME/APIReference folder of the project download.
<br/>
<SPAN style="font-family: courier"><A TARGET="_blank" HREF="null">null</A></SPAN>
<br/>

<br/>
          </li>

<!-- end - step -->

        </ul>

<!-- end - steps list -->


<br/>
      </li>

<!-- end - sub-heading = Where can I learn more? -->

    </ul>
  </li>

<!-- end - heading = Discover -->


<!-- begin - heading = Develop -->

  <li>
Develop
    <ul>

<!-- begin - sub-heading = Develop -->

      <li>
Development Methods

<!-- begin - steps list -->

        <ul>

<!-- begin - step -->

          <li class="lastLevel">
<br/><p><b>
31. Starter versus Example</b></p><br/>

There are two convenient ways you can use what is provided in MySampleApp to enable your own app project with your configured features and cloud resources. You can use MySampleApp as a starter app, and build your own app on top of it. Alternatively, you can use MySampleApp as an example, and copy and paste the source code from MySampleApp into your own app project.
<br/>
          </li>

<!-- end - step -->

        </ul>

<!-- end - steps list -->


<br/>
      </li>

<!-- end - sub-heading = Development Methods -->


<!-- begin - sub-heading = Develop -->

      <li>
Use as a Starter App

<!-- begin - steps list -->

        <ul>

<!-- begin - step -->

          <li class="lastLevel">
<br/><p><b>
32. Use MySampleApp as a Starter App</b></p><br/>

When you use MySampleApp as a starter app for your own app project, it serves as a starting point for your own App development. Remove the "demo" features, replace the app name and package name, build in your own app logic and user interface, and you're done!
<br/>
          </li>

<!-- end - step -->


<!-- begin - step -->

          <li class="lastLevel">
<br/><p><b>
33. Remove the "demo" features</b></p><br/>

You may delete the "Demo" folder, which contains the examples demonstrating the features you've enabled in your project. You might want to keep snippets of the examples to use in your own code. You should also modify the Main.storyboard file with your application's own user interface and modify the SplashViewController and MainViewController, as you see fit for your application.
<br/>
          </li>

<!-- end - step -->


<!-- begin - step -->

          <li class="lastLevel">
<br/><p><b>
34. Rename the Project</b></p><br/>

To rename the project follow these instructions:
<br/>
<SPAN style="font-family: courier"><A TARGET="_blank" HREF="https://developer.apple.com/library/ios/recipes/xcode_help-project_editor/RenamingaProject/RenamingaProject.html">https://developer.apple.com/library/ios/recipes/xcode_help-project_editor/RenamingaProject/RenamingaProject.html</A></SPAN>
<br/>

<br/>
          </li>

<!-- end - step -->


<!-- begin - step -->

          <li class="lastLevel">
<br/><p><b>
35. Rename the App</b></p><br/>

In order to rename the App double click on the Target "MySampleApp" and rename it to the name of your application.
<br/>
          </li>

<!-- end - step -->


<!-- begin - step -->

          <li class="lastLevel">
<br/><p><b>
36. Set your Bundle ID</b></p><br/>

Your bundle ID should be formatted as a reverse-domain string, for example: com.MyCompany.MyProductName. For more instructions on how to change your bundle ID go here:
<br/>
<SPAN style="font-family: courier"><A TARGET="_blank" HREF="https://developer.apple.com/library/ios/documentation/IDEs/Conceptual/AppDistributionGuide/ConfiguringYourApp/ConfiguringYourApp.html#//apple_ref/doc/uid/TP40012582-CH28-SW16">https://developer.apple.com/library/ios/documentation/IDEs/Conceptual/AppDistributionGuide/ConfiguringYourApp/ConfiguringYourApp.html#//apple_ref/doc/uid/TP40012582-CH28-SW16</A></SPAN>
<br/>

<br/>
          </li>

<!-- end - step -->


<!-- begin - step -->

          <li class="lastLevel">
<br/><p><b>
37. Configure App Services</b></p><br/>

Configure your app services by enabling capabilities in the project settings. Services such as In-App Purchase, Push Notification, Game Center, iCloud and many more can be configured by following the instructions here:
<br/>
<SPAN style="font-family: courier"><A TARGET="_blank" HREF="https://developer.apple.com/library/ios/documentation/IDEs/Conceptual/AppDistributionGuide/AddingCapabilities/AddingCapabilities.html#//apple_ref/doc/uid/TP40012582-CH26-SW1">https://developer.apple.com/library/ios/documentation/IDEs/Conceptual/AppDistributionGuide/AddingCapabilities/AddingCapabilities.html#//apple_ref/doc/uid/TP40012582-CH26-SW1</A></SPAN>
<br/>

<br/>
          </li>

<!-- end - step -->

        </ul>

<!-- end - steps list -->


<br/>
      </li>

<!-- end - sub-heading = Use as a Starter App -->


<!-- begin - sub-heading = Develop -->

      <li>
Use as an Example

<!-- begin - steps list -->

        <ul>

<!-- begin - step -->

          <li class="lastLevel">
<br/><p><b>
38. Use MySampleApp as an Example</b></p><br/>

When you use MySampleApp as an example, you learn from what is demonstrated in MySampleApp and copy and paste the parts you need. This section explains the steps needed to copy and paste the MySampleApp functionality into your own app project.
<br/>
          </li>

<!-- end - step -->


<!-- begin - step -->

          <li class="lastLevel">
<br/><p><b>
39. Copy the SDKs</b></p><br/>

Please copy this folder and all of its sub-folders from the MySampleApp project into your project.<br/><br/>

This folder contains the required SDKs (software development kits) that will be used to support your project. Copy the contents of the "Sdk" folder into your Xcode project by dragging and dropping the folder from a Finder window into Xcode. When prompted by Xcode, check "Copy item if needed" and select "Create folder references".
<br/>
<SPAN style="font-family: courier"><A TARGET="_BLANK" HREF="file:../MySampleApp/MySampleApp/Sdk">MySampleApp/MySampleApp/Sdk</A></SPAN>
<br/>
          </li>

<!-- end - step -->


<!-- begin - step -->

          <li class="lastLevel">
<br/><p><b>
40. Add the AWS SDKs as Embed Frameworks</b></p><br/>

Please copy this folder and all of its sub-folders from the MySampleApp project into your project.<br/><br/>

Embed and link the AWS Frameworks found in that folder or its subfolders by adding them to your target project. In XCode you can do this by navigating to the project info General tab. Click the + symbol in the "Embedded Binaries" section, choose "Add Other..." in the "Choose items to add:" dialog, then navigate to and select all AWS Frameworks from your MySampleApp Project.
<br/>
<SPAN style="font-family: courier"><A TARGET="_BLANK" HREF="file:../MySampleApp/MySampleApp/Sdk/Aws">MySampleApp/MySampleApp/Sdk/Aws</A></SPAN>
<br/>
          </li>

<!-- end - step -->


<!-- begin - step -->

          <li class="lastLevel">
<br/><p><b>
41. Add a Run Script phase to your project</b></p><br/>

After adding the AWS SDKs as Embed Frameworks, under the Build Phases tab in your Target, click the + button on the top left and then select New Run Script Phase. Add the following line in the text box: <br /><br />bash "${BUILT_PRODUCTS_DIR}/${FRAMEWORKS_FOLDER_PATH}/AWSCore.framework/strip-frameworks.sh" <br /><br />This step is required for the app to be published on the iTunes App Store.
<br/>
          </li>

<!-- end - step -->


<!-- begin - step -->

          <li class="lastLevel">
<br/><p><b>
42. Copy the Mobile Hub Helper</b></p><br/>

Please copy this folder and all of its sub-folders from the MySampleApp project into your project.<br/><br/>

This folder contains a helper framework which simplifies the use of all the SDKs that are required to support your project. Copy the contents of the "AmazonAws" folder into your own project and add a group for it in your Xcode project. It also contains the AWSMobileClient.swift file which bootstraps the app. It is a singleton component which creates an identity manager to establish the user identity with Amazon Cognito.
<br/>
<SPAN style="font-family: courier"><A TARGET="_BLANK" HREF="file:../MySampleApp/MySampleApp/AmazonAws">MySampleApp/MySampleApp/AmazonAws</A></SPAN>
<br/>
          </li>

<!-- end - step -->


<!-- begin - step -->

          <li class="lastLevel">
<br/><p><b>
43. Copy the AWS Configuration for features configured by you</b></p><br/>

Please copy this file from the MySampleApp project into your own project.<br/><br/>

This file has been generated for you, based on your project configuration and on your AWS cloud resources. It contains your private identifiers, which the application will use to access AWS services. For copying the configuration to your own project, open the Project Settings of the Sample App and go to the "Info" section. Click the "AWS" key in the Info section and copy it by Command+C or by Right Click->Copy. Open the Project Settings of your project and in the "Info" tab, paste the copied Key. Your project's "Info" section should have a Key named "AWS" now, which contains all your private identifiers.
<br/>
<SPAN style="font-family: courier"><A TARGET="_BLANK" HREF="file:../MySampleApp/MySampleApp/App/SupportingFiles/Info.plist">MySampleApp/MySampleApp/App/SupportingFiles/Info.plist</A></SPAN>
<br/>
          </li>

<!-- end - step -->


<!-- begin - step -->

          <li class="lastLevel">
<br/><p><b>
44. Add the dependency frameworks for AWS iOS SDK</b></p><br/>

Open the target for your project, select Build Phases, expand Link Binary With Libraries, click the + button, and add libsqlite3.tbd and libz.tbd
<br/>
          </li>

<!-- end - step -->


<!-- begin - step -->

          <li class="lastLevel">
<br/><p><b>
45. Start AWSMobileClient</b></p><br/>

Please copy this segment of code from the MySampleApp project into your own project.<br/><br/>

You must copy this file from the App/ folder add this call to configure the AWSMobileClient in your ApplicationDelegate.
<br/>
<SPAN style="font-family: courier"><A TARGET="_BLANK" HREF="file:../MySampleApp/MySampleApp/App/AppDelegate.swift">MySampleApp/MySampleApp/App/AppDelegate.swift</A></SPAN><BR/><BR/><SPAN style="font-family: courier"><TABLE style="border:0; "><TR><TD><PRE>17</PRE></TD><TD style="width:900px;background-color:#DDDDDD;color:#0000FF;"><PRE>        return AWSMobileClient.sharedInstance.didFinishLaunching(application, withOptions: launchOptions)</PRE></TD></TR></TABLE></SPAN>
<br/>

<br/>
          </li>

<!-- end - step -->


<!-- begin - step -->

          <li class="lastLevel">
<br/><p><b>
46. Identify your user</b></p><br/>

Please copy this segment of code from the MySampleApp project into your own project.<br/><br/>

Utilize the AWSIdentityManager to identify your user. You have access to the username, image URL and identity ID which uniquely identifies the user.
<br/>
<SPAN style="font-family: courier"><A TARGET="_BLANK" HREF="file:../MySampleApp/MySampleApp/Demo/UserIdentity/UserIdentityViewController.swift">MySampleApp/MySampleApp/Demo/UserIdentity/UserIdentityViewController.swift</A></SPAN><BR/><BR/><SPAN style="font-family: courier"><TABLE style="border:0; "><TR><TD><PRE>22</PRE></TD><TD style="width:900px;background-color:#DDDDDD;color:#0000FF;"><PRE>        let identityManager = AWSIdentityManager.defaultIdentityManager()</PRE></TD></TR><TR><TD><PRE>23</PRE></TD><TD style="width:900px;background-color:#DDDDDD;color:#0000FF;"><PRE>        </PRE></TD></TR><TR><TD><PRE>24</PRE></TD><TD style="width:900px;background-color:#DDDDDD;color:#0000FF;"><PRE>        if let identityUserName = identityManager.userName {</PRE></TD></TR><TR><TD><PRE>25</PRE></TD><TD style="width:900px;background-color:#DDDDDD;color:#0000FF;"><PRE>            userName.text = identityUserName</PRE></TD></TR><TR><TD><PRE>26</PRE></TD><TD style="width:900px;background-color:#DDDDDD;color:#0000FF;"><PRE>        } else {</PRE></TD></TR><TR><TD><PRE>27</PRE></TD><TD style="width:900px;background-color:#DDDDDD;color:#0000FF;"><PRE>            userName.text = NSLocalizedString("Guest User", comment: "Placeholder text for the guest user.")</PRE></TD></TR><TR><TD><PRE>28</PRE></TD><TD style="width:900px;background-color:#DDDDDD;color:#0000FF;"><PRE>        }</PRE></TD></TR><TR><TD><PRE>29</PRE></TD><TD style="width:900px;background-color:#DDDDDD;color:#0000FF;"><PRE>        </PRE></TD></TR><TR><TD><PRE>30</PRE></TD><TD style="width:900px;background-color:#DDDDDD;color:#0000FF;"><PRE>        userID.text = identityManager.identityId</PRE></TD></TR></TABLE></SPAN>
<br/>

<br/>
          </li>

<!-- end - step -->


<!-- begin - step -->

          <li class="lastLevel">
<br/><p><b>
47. Initialize AWSPushManager</b></p><br/>

Please copy this segment of code from the MySampleApp project into your own project.<br/><br/>

AWSPushManager is a service client that handles registering for push notifications and provides APIs for more SNS features. This class follows the Delegate pattern where you may implement callbacks to be notified of events. Please use the AWSPushManager service client registered in AWSMobileClient.swift file.
<br/>
<SPAN style="font-family: courier"><A TARGET="_BLANK" HREF="file:../MySampleApp/MySampleApp/Demo/Push/PushNotificationViewController.swift">MySampleApp/MySampleApp/Demo/Push/PushNotificationViewController.swift</A></SPAN><BR/><BR/><SPAN style="font-family: courier"><TABLE style="border:0; "><TR><TD><PRE>19</PRE></TD><TD style="width:900px;background-color:#DDDDDD;color:#0000FF;"><PRE>        let pushManager: AWSPushManager = AWSPushManager.defaultPushManager()</PRE></TD></TR><TR><TD><PRE>20</PRE></TD><TD style="width:900px;background-color:#DDDDDD;color:#0000FF;"><PRE>        pushManager.delegate = self</PRE></TD></TR></TABLE></SPAN>
<br/>

<br/>
          </li>

<!-- end - step -->


<!-- begin - step -->

          <li class="lastLevel">
<br/><p><b>
48. Implement AWSPushManagerDelegate</b></p><br/>

Please copy this segment of code from the MySampleApp project into your own project.<br/><br/>

This delegate method is required. It notifies you when it has successfully registered for push notifications. There are other optional delegate methods that can also be implemented.
<br/>
<SPAN style="font-family: courier"><A TARGET="_BLANK" HREF="file:../MySampleApp/MySampleApp/Demo/Push/PushNotificationViewController.swift">MySampleApp/MySampleApp/Demo/Push/PushNotificationViewController.swift</A></SPAN><BR/><BR/><SPAN style="font-family: courier"><TABLE style="border:0; "><TR><TD><PRE>105</PRE></TD><TD style="width:900px;background-color:#DDDDDD;color:#0000FF;"><PRE>extension PushNotificationViewController: AWSPushManagerDelegate {</PRE></TD></TR><TR><TD><PRE>106</PRE></TD><TD style="width:900px;background-color:#DDDDDD;color:#0000FF;"><PRE>    func pushManagerDidRegister(pushManager: AWSPushManager) {</PRE></TD></TR></TABLE></SPAN>
<br/>

<br/>
          </li>

<!-- end - step -->


<!-- begin - step -->

          <li class="lastLevel">
<br/><p><b>
49. Add callbacks to AWSMobileClient</b></p><br/>

Please copy this segment of code from the MySampleApp project into your own project.<br/><br/>

In your ApplicationDelegate, it is required that you add these calls to AWSMobileClient in order for push notifications to work.
<br/>
<SPAN style="font-family: courier"><A TARGET="_BLANK" HREF="file:../MySampleApp/MySampleApp/App/AppDelegate.swift">MySampleApp/MySampleApp/App/AppDelegate.swift</A></SPAN><BR/><BR/><SPAN style="font-family: courier"><TABLE style="border:0; "><TR><TD><PRE>54</PRE></TD><TD style="width:900px;background-color:#DDDDDD;color:#0000FF;"><PRE>    func application(application: UIApplication, didRegisterForRemoteNotificationsWithDeviceToken deviceToken: NSData) {</PRE></TD></TR><TR><TD><PRE>55</PRE></TD><TD style="width:900px;background-color:#DDDDDD;color:#0000FF;"><PRE>        AWSMobileClient.sharedInstance.application(application, didRegisterForRemoteNotificationsWithDeviceToken: deviceToken)</PRE></TD></TR><TR><TD><PRE>56</PRE></TD><TD style="width:900px;background-color:#DDDDDD;color:#0000FF;"><PRE>    }</PRE></TD></TR><TR><TD><PRE>57</PRE></TD><TD style="width:900px;background-color:#DDDDDD;color:#0000FF;"><PRE>    </PRE></TD></TR><TR><TD><PRE>58</PRE></TD><TD style="width:900px;background-color:#DDDDDD;color:#0000FF;"><PRE>    func application(application: UIApplication, didFailToRegisterForRemoteNotificationsWithError error: NSError) {</PRE></TD></TR><TR><TD><PRE>59</PRE></TD><TD style="width:900px;background-color:#DDDDDD;color:#0000FF;"><PRE>        AWSMobileClient.sharedInstance.application(application, didFailToRegisterForRemoteNotificationsWithError: error)</PRE></TD></TR><TR><TD><PRE>60</PRE></TD><TD style="width:900px;background-color:#DDDDDD;color:#0000FF;"><PRE>    }</PRE></TD></TR><TR><TD><PRE>61</PRE></TD><TD style="width:900px;background-color:#DDDDDD;color:#0000FF;"><PRE>    </PRE></TD></TR><TR><TD><PRE>62</PRE></TD><TD style="width:900px;background-color:#DDDDDD;color:#0000FF;"><PRE>    func application(application: UIApplication, didReceiveRemoteNotification userInfo: [NSObject : AnyObject]) {</PRE></TD></TR><TR><TD><PRE>63</PRE></TD><TD style="width:900px;background-color:#DDDDDD;color:#0000FF;"><PRE>        AWSMobileClient.sharedInstance.application(application, didReceiveRemoteNotification: userInfo)</PRE></TD></TR><TR><TD><PRE>64</PRE></TD><TD style="width:900px;background-color:#DDDDDD;color:#0000FF;"><PRE>    }</PRE></TD></TR><TR><TD><PRE>65</PRE></TD><TD style="width:900px;background-color:#DDDDDD;color:#0000FF;"><PRE>    </PRE></TD></TR></TABLE></SPAN>
<br/>

<br/>
          </li>

<!-- end - step -->


<!-- begin - step -->

          <li class="lastLevel">
<br/><p><b>
50. Subscribe to a Topic</b></p><br/>

Please copy this segment of code from the MySampleApp project into your own project.<br/><br/>

To receive messages published to a topic, you have to subscribe an endpoint to that topic.
<br/>
<SPAN style="font-family: courier"><A TARGET="_BLANK" HREF="file:../MySampleApp/MySampleApp/Demo/Push/PushNotificationViewController.swift">MySampleApp/MySampleApp/Demo/Push/PushNotificationViewController.swift</A></SPAN><BR/><BR/><SPAN style="font-family: courier"><TABLE style="border:0; "><TR><TD><PRE>111</PRE></TD><TD style="width:900px;background-color:#DDDDDD;color:#0000FF;"><PRE>        if let defaultSubscribeTopic = pushManager.topicARNs?.first {</PRE></TD></TR><TR><TD><PRE>112</PRE></TD><TD style="width:900px;background-color:#DDDDDD;color:#0000FF;"><PRE>            let topic = pushManager.topicForTopicARN(defaultSubscribeTopic)</PRE></TD></TR><TR><TD><PRE>113</PRE></TD><TD style="width:900px;background-color:#DDDDDD;color:#0000FF;"><PRE>            topic.subscribe()</PRE></TD></TR></TABLE></SPAN>
<br/>

<br/>
          </li>

<!-- end - step -->


<!-- begin - step -->

          <li class="lastLevel">
<br/><p><b>
51. Unsubscribe to a Topic</b></p><br/>

Please copy this segment of code from the MySampleApp project into your own project.<br/><br/>

Deletes a subscription from a topic.
<br/>
<SPAN style="font-family: courier"><A TARGET="_BLANK" HREF="file:../MySampleApp/MySampleApp/Demo/Push/PushNotificationViewController.swift">MySampleApp/MySampleApp/Demo/Push/PushNotificationViewController.swift</A></SPAN><BR/><BR/><SPAN style="font-family: courier"><TABLE style="border:0; "><TR><TD><PRE>66</PRE></TD><TD style="width:900px;background-color:#FFFFFF;color:#000000;"><PRE>                    let topic = AWSPushManager.defaultPushManager().topics[indexPath.row]</PRE></TD></TR><TR><TD><PRE>67</PRE></TD><TD style="width:900px;background-color:#DDDDDD;color:#0000FF;"><PRE>                    topic.unsubscribe()</PRE></TD></TR></TABLE></SPAN>
<br/>

<br/>
          </li>

<!-- end - step -->


<!-- begin - step -->

          <li class="lastLevel">
<br/><p><b>
52. Content Delivery</b></p><br/>

Please copy this segment of code from the MySampleApp project into your own project.<br/><br/>

Use the registered AWSContentManager class service client to download files from Amazon S3 (optionally through your Amazon CloudFront distribution, if you have enabled the multi-region CDN project option). You can also use the AWSContentManager class service client to manage your on-device local cache of downloaded files.
<br/>
<SPAN style="font-family: courier"><A TARGET="_BLANK" HREF="file:../MySampleApp/MySampleApp/Demo/ContentDelivery/ContentDeliveryViewController.swift">MySampleApp/MySampleApp/Demo/ContentDelivery/ContentDeliveryViewController.swift</A></SPAN><BR/><BR/><SPAN style="font-family: courier"><TABLE style="border:0; "><TR><TD><PRE>32</PRE></TD><TD style="width:900px;background-color:#DDDDDD;color:#0000FF;"><PRE>        manager = AWSContentManager.defaultContentManager()</PRE></TD></TR></TABLE></SPAN>
<br/>

<br/>
          </li>

<!-- end - step -->


<!-- begin - step -->

          <li class="lastLevel">
<br/><p><b>
53. Load Contents of a Directory</b></p><br/>

Please copy this segment of code from the MySampleApp project into your own project.<br/><br/>

This method demonstrates how to use the AWSContentManager to load the contents of a directory. The directory here is the prefix variable which matches to the root folder.
<br/>
<SPAN style="font-family: courier"><A TARGET="_BLANK" HREF="file:../MySampleApp/MySampleApp/Demo/ContentDelivery/ContentDeliveryViewController.swift">MySampleApp/MySampleApp/Demo/ContentDelivery/ContentDeliveryViewController.swift</A></SPAN><BR/><BR/><SPAN style="font-family: courier"><TABLE style="border:0; "><TR><TD><PRE>98</PRE></TD><TD style="width:900px;background-color:#DDDDDD;color:#0000FF;"><PRE>        manager.listAvailableContentsWithPrefix(prefix, marker: marker, completionHandler: {[weak self](contents: [AWSContent]?, nextMarker: String?, error: NSError?) -> Void in</PRE></TD></TR><TR><TD><PRE>99</PRE></TD><TD style="width:900px;background-color:#DDDDDD;color:#0000FF;"><PRE>            guard let strongSelf = self else { return }</PRE></TD></TR><TR><TD><PRE>100</PRE></TD><TD style="width:900px;background-color:#DDDDDD;color:#0000FF;"><PRE>            if let error = error {</PRE></TD></TR><TR><TD><PRE>101</PRE></TD><TD style="width:900px;background-color:#DDDDDD;color:#0000FF;"><PRE>                strongSelf.showSimpleAlertWithTitle("Error", message: "Failed to load the list of contents.", cancelButtonTitle: "OK")</PRE></TD></TR><TR><TD><PRE>102</PRE></TD><TD style="width:900px;background-color:#DDDDDD;color:#0000FF;"><PRE>                print("Failed to load the list of contents. \(error)")</PRE></TD></TR><TR><TD><PRE>103</PRE></TD><TD style="width:900px;background-color:#DDDDDD;color:#0000FF;"><PRE>            }</PRE></TD></TR><TR><TD><PRE>104</PRE></TD><TD style="width:900px;background-color:#DDDDDD;color:#0000FF;"><PRE>            if let contents = contents where contents.count > 0 {</PRE></TD></TR><TR><TD><PRE>105</PRE></TD><TD style="width:900px;background-color:#DDDDDD;color:#0000FF;"><PRE>                strongSelf.contents = contents</PRE></TD></TR><TR><TD><PRE>106</PRE></TD><TD style="width:900px;background-color:#DDDDDD;color:#0000FF;"><PRE>                if let nextMarker = nextMarker where !nextMarker.isEmpty{</PRE></TD></TR><TR><TD><PRE>107</PRE></TD><TD style="width:900px;background-color:#DDDDDD;color:#0000FF;"><PRE>                    strongSelf.didLoadAllContents = false</PRE></TD></TR><TR><TD><PRE>108</PRE></TD><TD style="width:900px;background-color:#DDDDDD;color:#0000FF;"><PRE>                } else {</PRE></TD></TR><TR><TD><PRE>109</PRE></TD><TD style="width:900px;background-color:#DDDDDD;color:#0000FF;"><PRE>                    strongSelf.didLoadAllContents = true</PRE></TD></TR><TR><TD><PRE>110</PRE></TD><TD style="width:900px;background-color:#DDDDDD;color:#0000FF;"><PRE>                }</PRE></TD></TR><TR><TD><PRE>111</PRE></TD><TD style="width:900px;background-color:#DDDDDD;color:#0000FF;"><PRE>                strongSelf.marker = nextMarker</PRE></TD></TR><TR><TD><PRE>112</PRE></TD><TD style="width:900px;background-color:#DDDDDD;color:#0000FF;"><PRE>            }</PRE></TD></TR><TR><TD><PRE>113</PRE></TD><TD style="width:900px;background-color:#DDDDDD;color:#0000FF;"><PRE>            strongSelf.updateUserInterface()</PRE></TD></TR><TR><TD><PRE>114</PRE></TD><TD style="width:900px;background-color:#DDDDDD;color:#0000FF;"><PRE>            })</PRE></TD></TR></TABLE></SPAN>
<br/>

<br/>
          </li>

<!-- end - step -->


<!-- begin - step -->

          <li class="lastLevel">
<br/><p><b>
54. Manage User Files</b></p><br/>

Please copy this segment of code from the MySampleApp project into your own project.<br/><br/>

Use the registered AWSUserFileManager service client to manage your files locally and to download or upload files from your S3 bucket. It is registered in the AWSMobileClient.swift file.
<br/>
<SPAN style="font-family: courier"><A TARGET="_BLANK" HREF="file:../MySampleApp/MySampleApp/Demo/UserFiles/UserFilesViewController.swift">MySampleApp/MySampleApp/Demo/UserFiles/UserFilesViewController.swift</A></SPAN><BR/><BR/><SPAN style="font-family: courier"><TABLE style="border:0; "><TR><TD><PRE>36</PRE></TD><TD style="width:900px;background-color:#DDDDDD;color:#0000FF;"><PRE>        manager = AWSUserFileManager.defaultUserFileManager()</PRE></TD></TR></TABLE></SPAN>
<br/>

<br/>
          </li>

<!-- end - step -->


<!-- begin - step -->

          <li class="lastLevel">
<br/><p><b>
55. Load Contents of a Directory</b></p><br/>

Please copy this segment of code from the MySampleApp project into your own project.<br/><br/>

This method demonstrates how to use the AWSUserFileManager to load the contents of a directory. The directory here is the prefix variable which will match to your "public" folder or your "private" folder if you are signed in.
<br/>
<SPAN style="font-family: courier"><A TARGET="_BLANK" HREF="file:../MySampleApp/MySampleApp/Demo/UserFiles/UserFilesViewController.swift">MySampleApp/MySampleApp/Demo/UserFiles/UserFilesViewController.swift</A></SPAN><BR/><BR/><SPAN style="font-family: courier"><TABLE style="border:0; "><TR><TD><PRE>175</PRE></TD><TD style="width:900px;background-color:#DDDDDD;color:#0000FF;"><PRE>        manager.listAvailableContentsWithPrefix(prefix, marker: marker, completionHandler: {[weak self](contents: [AWSContent]?, nextMarker: String?, error: NSError?) -> Void in</PRE></TD></TR><TR><TD><PRE>176</PRE></TD><TD style="width:900px;background-color:#DDDDDD;color:#0000FF;"><PRE>            guard let strongSelf = self else { return }</PRE></TD></TR><TR><TD><PRE>177</PRE></TD><TD style="width:900px;background-color:#DDDDDD;color:#0000FF;"><PRE>            if let error = error {</PRE></TD></TR><TR><TD><PRE>178</PRE></TD><TD style="width:900px;background-color:#DDDDDD;color:#0000FF;"><PRE>                strongSelf.showSimpleAlertWithTitle("Error", message: "Failed to load the list of contents.", cancelButtonTitle: "OK")</PRE></TD></TR><TR><TD><PRE>179</PRE></TD><TD style="width:900px;background-color:#DDDDDD;color:#0000FF;"><PRE>                print("Failed to load the list of contents. \(error)")</PRE></TD></TR><TR><TD><PRE>180</PRE></TD><TD style="width:900px;background-color:#DDDDDD;color:#0000FF;"><PRE>            }</PRE></TD></TR><TR><TD><PRE>181</PRE></TD><TD style="width:900px;background-color:#DDDDDD;color:#0000FF;"><PRE>            if let contents = contents where contents.count > 0 {</PRE></TD></TR><TR><TD><PRE>182</PRE></TD><TD style="width:900px;background-color:#DDDDDD;color:#0000FF;"><PRE>                strongSelf.contents = contents</PRE></TD></TR><TR><TD><PRE>183</PRE></TD><TD style="width:900px;background-color:#DDDDDD;color:#0000FF;"><PRE>                if let nextMarker = nextMarker where !nextMarker.isEmpty {</PRE></TD></TR><TR><TD><PRE>184</PRE></TD><TD style="width:900px;background-color:#DDDDDD;color:#0000FF;"><PRE>                    strongSelf.didLoadAllContents = false</PRE></TD></TR><TR><TD><PRE>185</PRE></TD><TD style="width:900px;background-color:#DDDDDD;color:#0000FF;"><PRE>                } else {</PRE></TD></TR><TR><TD><PRE>186</PRE></TD><TD style="width:900px;background-color:#DDDDDD;color:#0000FF;"><PRE>                    strongSelf.didLoadAllContents = true</PRE></TD></TR><TR><TD><PRE>187</PRE></TD><TD style="width:900px;background-color:#DDDDDD;color:#0000FF;"><PRE>                }</PRE></TD></TR><TR><TD><PRE>188</PRE></TD><TD style="width:900px;background-color:#DDDDDD;color:#0000FF;"><PRE>                strongSelf.marker = nextMarker</PRE></TD></TR><TR><TD><PRE>189</PRE></TD><TD style="width:900px;background-color:#DDDDDD;color:#0000FF;"><PRE>            }</PRE></TD></TR><TR><TD><PRE>190</PRE></TD><TD style="width:900px;background-color:#DDDDDD;color:#0000FF;"><PRE>            strongSelf.updateUserInterface()</PRE></TD></TR><TR><TD><PRE>191</PRE></TD><TD style="width:900px;background-color:#DDDDDD;color:#0000FF;"><PRE>            })</PRE></TD></TR><TR><TD><PRE>192</PRE></TD><TD style="width:900px;background-color:#DDDDDD;color:#0000FF;"><PRE>    }</PRE></TD></TR><TR><TD><PRE>193</PRE></TD><TD style="width:900px;background-color:#DDDDDD;color:#0000FF;"><PRE>    </PRE></TD></TR><TR><TD><PRE>194</PRE></TD><TD style="width:900px;background-color:#DDDDDD;color:#0000FF;"><PRE>    private func showDiskLimitOptions() {</PRE></TD></TR><TR><TD><PRE>195</PRE></TD><TD style="width:900px;background-color:#DDDDDD;color:#0000FF;"><PRE>        let alertController = UIAlertController(title: "Disk Cache Size", message: nil, preferredStyle: .ActionSheet)</PRE></TD></TR></TABLE></SPAN>
<br/>

<br/>
          </li>

<!-- end - step -->


<!-- begin - step -->

          <li class="lastLevel">
<br/><p><b>
56. Download a File</b></p><br/>

Please copy this segment of code from the MySampleApp project into your own project.<br/><br/>

This method demonstrates how to use the AWSUserFileManager to download a file referenced as an AWSContent object. It also demonstrates how to display the progress of a download.
<br/>
<SPAN style="font-family: courier"><A TARGET="_BLANK" HREF="file:../MySampleApp/MySampleApp/Demo/UserFiles/UserFilesViewController.swift">MySampleApp/MySampleApp/Demo/UserFiles/UserFilesViewController.swift</A></SPAN><BR/><BR/><SPAN style="font-family: courier"><TABLE style="border:0; "><TR><TD><PRE>298</PRE></TD><TD style="width:900px;background-color:#DDDDDD;color:#0000FF;"><PRE>    private func downloadContent(content: AWSContent, pinOnCompletion: Bool) {</PRE></TD></TR><TR><TD><PRE>299</PRE></TD><TD style="width:900px;background-color:#DDDDDD;color:#0000FF;"><PRE>        content.downloadWithDownloadType(.IfNewerExists, pinOnCompletion: pinOnCompletion, progressBlock: {[weak self](content: AWSContent?, progress: NSProgress?) -> Void in</PRE></TD></TR><TR><TD><PRE>300</PRE></TD><TD style="width:900px;background-color:#DDDDDD;color:#0000FF;"><PRE>            guard let strongSelf = self else { return }</PRE></TD></TR><TR><TD><PRE>301</PRE></TD><TD style="width:900px;background-color:#DDDDDD;color:#0000FF;"><PRE>            if strongSelf.contents!.contains( {$0 == content} ) {</PRE></TD></TR><TR><TD><PRE>302</PRE></TD><TD style="width:900px;background-color:#DDDDDD;color:#0000FF;"><PRE>                let row = strongSelf.contents!.indexOf({$0  == content!})!</PRE></TD></TR><TR><TD><PRE>303</PRE></TD><TD style="width:900px;background-color:#DDDDDD;color:#0000FF;"><PRE>                let indexPath = NSIndexPath(forRow: row, inSection: 1)</PRE></TD></TR><TR><TD><PRE>304</PRE></TD><TD style="width:900px;background-color:#DDDDDD;color:#0000FF;"><PRE>                strongSelf.tableView.reloadRowsAtIndexPaths([indexPath], withRowAnimation: .None)</PRE></TD></TR><TR><TD><PRE>305</PRE></TD><TD style="width:900px;background-color:#DDDDDD;color:#0000FF;"><PRE>            }</PRE></TD></TR><TR><TD><PRE>306</PRE></TD><TD style="width:900px;background-color:#DDDDDD;color:#0000FF;"><PRE>            }, completionHandler: {[weak self](content: AWSContent?, data: NSData?, error: NSError?) -> Void in</PRE></TD></TR><TR><TD><PRE>307</PRE></TD><TD style="width:900px;background-color:#DDDDDD;color:#0000FF;"><PRE>                guard let strongSelf = self else { return }</PRE></TD></TR><TR><TD><PRE>308</PRE></TD><TD style="width:900px;background-color:#DDDDDD;color:#0000FF;"><PRE>                if let error = error {</PRE></TD></TR><TR><TD><PRE>309</PRE></TD><TD style="width:900px;background-color:#DDDDDD;color:#0000FF;"><PRE>                    print("Failed to download a content from a server. \(error)")</PRE></TD></TR><TR><TD><PRE>310</PRE></TD><TD style="width:900px;background-color:#DDDDDD;color:#0000FF;"><PRE>                    strongSelf.showSimpleAlertWithTitle("Error", message: "Failed to download a content from a server.", cancelButtonTitle: "OK")</PRE></TD></TR><TR><TD><PRE>311</PRE></TD><TD style="width:900px;background-color:#DDDDDD;color:#0000FF;"><PRE>                }</PRE></TD></TR><TR><TD><PRE>312</PRE></TD><TD style="width:900px;background-color:#DDDDDD;color:#0000FF;"><PRE>                strongSelf.updateUserInterface()</PRE></TD></TR><TR><TD><PRE>313</PRE></TD><TD style="width:900px;background-color:#DDDDDD;color:#0000FF;"><PRE>            })</PRE></TD></TR><TR><TD><PRE>314</PRE></TD><TD style="width:900px;background-color:#DDDDDD;color:#0000FF;"><PRE>    }</PRE></TD></TR></TABLE></SPAN>
<br/>

<br/>
          </li>

<!-- end - step -->


<!-- begin - step -->

          <li class="lastLevel">
<br/><p><b>
57. Delete a File from Local Storage</b></p><br/>

Please copy this segment of code from the MySampleApp project into your own project.<br/><br/>

In order to remove a file from the local cache, call "removeLocal" on the AWSContent object that you want removed.
<br/>
<SPAN style="font-family: courier"><A TARGET="_BLANK" HREF="file:../MySampleApp/MySampleApp/Demo/UserFiles/UserFilesViewController.swift">MySampleApp/MySampleApp/Demo/UserFiles/UserFilesViewController.swift</A></SPAN><BR/><BR/><SPAN style="font-family: courier"><TABLE style="border:0; "><TR><TD><PRE>279</PRE></TD><TD style="width:900px;background-color:#DDDDDD;color:#0000FF;"><PRE>                content.removeLocal()</PRE></TD></TR></TABLE></SPAN>
<br/>

<br/>
          </li>

<!-- end - step -->


<!-- begin - step -->

          <li class="lastLevel">
<br/><p><b>
58. Delete a File from S3</b></p><br/>

Please copy this segment of code from the MySampleApp project into your own project.<br/><br/>

In order to remove a file from S3, call "removeRemoteContentWithCompletionHandler" on the AWSContent object that you want removed.
<br/>
<SPAN style="font-family: courier"><A TARGET="_BLANK" HREF="file:../MySampleApp/MySampleApp/Demo/UserFiles/UserFilesViewController.swift">MySampleApp/MySampleApp/Demo/UserFiles/UserFilesViewController.swift</A></SPAN><BR/><BR/><SPAN style="font-family: courier"><TABLE style="border:0; "><TR><TD><PRE>378</PRE></TD><TD style="width:900px;background-color:#DDDDDD;color:#0000FF;"><PRE>        content.removeRemoteContentWithCompletionHandler({[weak self](content: AWSContent?, error: NSError?) -> Void in</PRE></TD></TR></TABLE></SPAN>
<br/>

<br/>
          </li>

<!-- end - step -->


<!-- begin - step -->

          <li class="lastLevel">
<br/><p><b>
59. Upload a File</b></p><br/>

Please copy this segment of code from the MySampleApp project into your own project.<br/><br/>

This method demonstrates how to upload a file by using AWSLocalContent. It also includes handler blocks for showing progress and handling errors.
<br/>
<SPAN style="font-family: courier"><A TARGET="_BLANK" HREF="file:../MySampleApp/MySampleApp/Demo/UserFiles/UserFilesViewController.swift">MySampleApp/MySampleApp/Demo/UserFiles/UserFilesViewController.swift</A></SPAN><BR/><BR/><SPAN style="font-family: courier"><TABLE style="border:0; "><TR><TD><PRE>443</PRE></TD><TD style="width:900px;background-color:#DDDDDD;color:#0000FF;"><PRE>    private func uploadLocalContent(localContent: AWSLocalContent) {</PRE></TD></TR><TR><TD><PRE>444</PRE></TD><TD style="width:900px;background-color:#DDDDDD;color:#0000FF;"><PRE>        localContent.uploadWithPinOnCompletion(false, progressBlock: {[weak self](content: AWSLocalContent?, progress: NSProgress?) -> Void in</PRE></TD></TR><TR><TD><PRE>445</PRE></TD><TD style="width:900px;background-color:#DDDDDD;color:#0000FF;"><PRE>            guard let strongSelf = self else { return }</PRE></TD></TR><TR><TD><PRE>446</PRE></TD><TD style="width:900px;background-color:#DDDDDD;color:#0000FF;"><PRE>            dispatch_async(dispatch_get_main_queue()) {</PRE></TD></TR><TR><TD><PRE>447</PRE></TD><TD style="width:900px;background-color:#DDDDDD;color:#0000FF;"><PRE>                // Update the upload UI if it is a new upload and the table is not yet updated</PRE></TD></TR><TR><TD><PRE>448</PRE></TD><TD style="width:900px;background-color:#DDDDDD;color:#0000FF;"><PRE>                if(strongSelf.tableView.numberOfRowsInSection(0) == 0 || strongSelf.tableView.numberOfRowsInSection(0) &lt; strongSelf.manager.uploadingContents.count) {</PRE></TD></TR><TR><TD><PRE>449</PRE></TD><TD style="width:900px;background-color:#DDDDDD;color:#0000FF;"><PRE>                    strongSelf.updateUploadUI()</PRE></TD></TR><TR><TD><PRE>450</PRE></TD><TD style="width:900px;background-color:#DDDDDD;color:#0000FF;"><PRE>                } else {</PRE></TD></TR><TR><TD><PRE>451</PRE></TD><TD style="width:900px;background-color:#DDDDDD;color:#0000FF;"><PRE>                    for uploadContent in strongSelf.manager.uploadingContents {</PRE></TD></TR><TR><TD><PRE>452</PRE></TD><TD style="width:900px;background-color:#DDDDDD;color:#0000FF;"><PRE>                        if uploadContent.key == content?.key {</PRE></TD></TR><TR><TD><PRE>453</PRE></TD><TD style="width:900px;background-color:#DDDDDD;color:#0000FF;"><PRE>                            let index = strongSelf.manager.uploadingContents.indexOf(uploadContent)!</PRE></TD></TR><TR><TD><PRE>454</PRE></TD><TD style="width:900px;background-color:#DDDDDD;color:#0000FF;"><PRE>                            let indexPath = NSIndexPath(forRow: index, inSection: 0)</PRE></TD></TR><TR><TD><PRE>455</PRE></TD><TD style="width:900px;background-color:#DDDDDD;color:#0000FF;"><PRE>                            strongSelf.tableView.reloadRowsAtIndexPaths([indexPath], withRowAnimation: .None)</PRE></TD></TR><TR><TD><PRE>456</PRE></TD><TD style="width:900px;background-color:#DDDDDD;color:#0000FF;"><PRE>                        }</PRE></TD></TR><TR><TD><PRE>457</PRE></TD><TD style="width:900px;background-color:#DDDDDD;color:#0000FF;"><PRE>                    }</PRE></TD></TR><TR><TD><PRE>458</PRE></TD><TD style="width:900px;background-color:#DDDDDD;color:#0000FF;"><PRE>                }</PRE></TD></TR><TR><TD><PRE>459</PRE></TD><TD style="width:900px;background-color:#DDDDDD;color:#0000FF;"><PRE>            }</PRE></TD></TR><TR><TD><PRE>460</PRE></TD><TD style="width:900px;background-color:#DDDDDD;color:#0000FF;"><PRE>            }, completionHandler: {[weak self](content: AWSContent?, error: NSError?) -> Void in</PRE></TD></TR><TR><TD><PRE>461</PRE></TD><TD style="width:900px;background-color:#DDDDDD;color:#0000FF;"><PRE>                guard let strongSelf = self else { return }</PRE></TD></TR><TR><TD><PRE>462</PRE></TD><TD style="width:900px;background-color:#DDDDDD;color:#0000FF;"><PRE>                strongSelf.updateUploadUI()</PRE></TD></TR><TR><TD><PRE>463</PRE></TD><TD style="width:900px;background-color:#DDDDDD;color:#0000FF;"><PRE>                if let error = error {</PRE></TD></TR><TR><TD><PRE>464</PRE></TD><TD style="width:900px;background-color:#DDDDDD;color:#0000FF;"><PRE>                    print("Failed to upload an object. \(error)")</PRE></TD></TR><TR><TD><PRE>465</PRE></TD><TD style="width:900px;background-color:#DDDDDD;color:#0000FF;"><PRE>                    strongSelf.showSimpleAlertWithTitle("Error", message: "Failed to upload an object.", cancelButtonTitle: "OK")</PRE></TD></TR><TR><TD><PRE>466</PRE></TD><TD style="width:900px;background-color:#DDDDDD;color:#0000FF;"><PRE>                } else {</PRE></TD></TR><TR><TD><PRE>467</PRE></TD><TD style="width:900px;background-color:#DDDDDD;color:#0000FF;"><PRE>                    strongSelf.refreshContents()</PRE></TD></TR><TR><TD><PRE>468</PRE></TD><TD style="width:900px;background-color:#DDDDDD;color:#0000FF;"><PRE>                }</PRE></TD></TR><TR><TD><PRE>469</PRE></TD><TD style="width:900px;background-color:#DDDDDD;color:#0000FF;"><PRE>            })</PRE></TD></TR><TR><TD><PRE>470</PRE></TD><TD style="width:900px;background-color:#DDDDDD;color:#0000FF;"><PRE>        updateUploadUI()</PRE></TD></TR></TABLE></SPAN>
<br/>

<br/>
          </li>

<!-- end - step -->


<!-- begin - step -->

          <li class="lastLevel">
<br/><p><b>
60. Create a Folder</b></p><br/>

Please copy this segment of code from the MySampleApp project into your own project.<br/><br/>

To create a folder use the "createFolderForKey" method that creates AWSLocalContent appropriately and re-uses the "uploadLocalContent" method shown in the previous step.
<br/>
<SPAN style="font-family: courier"><A TARGET="_BLANK" HREF="file:../MySampleApp/MySampleApp/Demo/UserFiles/UserFilesViewController.swift">MySampleApp/MySampleApp/Demo/UserFiles/UserFilesViewController.swift</A></SPAN><BR/><BR/><SPAN style="font-family: courier"><TABLE style="border:0; "><TR><TD><PRE>479</PRE></TD><TD style="width:900px;background-color:#FFFFFF;color:#000000;"><PRE>    private func uploadWithData(data: NSData, forKey key: String) {</PRE></TD></TR><TR><TD><PRE>480</PRE></TD><TD style="width:900px;background-color:#FFFFFF;color:#000000;"><PRE>        let localContent = manager.localContentWithData(data, key: key)</PRE></TD></TR><TR><TD><PRE>481</PRE></TD><TD style="width:900px;background-color:#FFFFFF;color:#000000;"><PRE>        uploadLocalContent(localContent)</PRE></TD></TR><TR><TD><PRE>482</PRE></TD><TD style="width:900px;background-color:#FFFFFF;color:#000000;"><PRE>    }</PRE></TD></TR><TR><TD><PRE>483</PRE></TD><TD style="width:900px;background-color:#FFFFFF;color:#000000;"><PRE>    </PRE></TD></TR><TR><TD><PRE>484</PRE></TD><TD style="width:900px;background-color:#DDDDDD;color:#0000FF;"><PRE>    private func createFolderForKey(key: String) {</PRE></TD></TR><TR><TD><PRE>485</PRE></TD><TD style="width:900px;background-color:#DDDDDD;color:#0000FF;"><PRE>        let localContent = manager.localContentWithData(nil, key: key)</PRE></TD></TR><TR><TD><PRE>486</PRE></TD><TD style="width:900px;background-color:#DDDDDD;color:#0000FF;"><PRE>        uploadLocalContent(localContent)</PRE></TD></TR><TR><TD><PRE>487</PRE></TD><TD style="width:900px;background-color:#DDDDDD;color:#0000FF;"><PRE>    }</PRE></TD></TR></TABLE></SPAN>
<br/>

<br/>
          </li>

<!-- end - step -->


<!-- begin - step -->

          <li class="lastLevel">
<br/><p><b>
61. Initialize Cognito Sync Client</b></p><br/>

Please copy this segment of code from the MySampleApp project into your own project.<br/><br/>

AWSCognito is a singleton class for Cognito Sync's service client.
<br/>
<SPAN style="font-family: courier"><A TARGET="_BLANK" HREF="file:../MySampleApp/MySampleApp/Demo/UserSettings/ColorThemeSettings.swift">MySampleApp/MySampleApp/Demo/UserSettings/ColorThemeSettings.swift</A></SPAN><BR/><BR/><SPAN style="font-family: courier"><TABLE style="border:0; "><TR><TD><PRE>41</PRE></TD><TD style="width:900px;background-color:#DDDDDD;color:#0000FF;"><PRE>        let syncClient: AWSCognito = AWSCognito.defaultCognito()</PRE></TD></TR></TABLE></SPAN>
<br/>

<br/>
          </li>

<!-- end - step -->


<!-- begin - step -->

          <li class="lastLevel">
<br/><p><b>
62. Retrieve a Dataset</b></p><br/>

Please copy this segment of code from the MySampleApp project into your own project.<br/><br/>

A Dataset is referenced by a string and returns a key-value map. In this demonstration we are creating a dataset called "user_settings" which holds a map with values for title text, bar and background colors.
<br/>
<SPAN style="font-family: courier"><A TARGET="_BLANK" HREF="file:../MySampleApp/MySampleApp/Demo/UserSettings/ColorThemeSettings.swift">MySampleApp/MySampleApp/Demo/UserSettings/ColorThemeSettings.swift</A></SPAN><BR/><BR/><SPAN style="font-family: courier"><TABLE style="border:0; "><TR><TD><PRE>43</PRE></TD><TD style="width:900px;background-color:#DDDDDD;color:#0000FF;"><PRE>        let userSettings: AWSCognitoDataset = syncClient.openOrCreateDataset("user_settings")</PRE></TD></TR><TR><TD><PRE>44</PRE></TD><TD style="width:900px;background-color:#DDDDDD;color:#0000FF;"><PRE>        </PRE></TD></TR><TR><TD><PRE>45</PRE></TD><TD style="width:900px;background-color:#DDDDDD;color:#0000FF;"><PRE>        userSettings.synchronize().continueWithExceptionCheckingBlock({(result: AnyObject?, error: NSError?) -> Void in</PRE></TD></TR><TR><TD><PRE>46</PRE></TD><TD style="width:900px;background-color:#DDDDDD;color:#0000FF;"><PRE>            if let error = error {</PRE></TD></TR><TR><TD><PRE>47</PRE></TD><TD style="width:900px;background-color:#DDDDDD;color:#0000FF;"><PRE>                 print("loadSettings error: \(error.localizedDescription)")</PRE></TD></TR><TR><TD><PRE>48</PRE></TD><TD style="width:900px;background-color:#DDDDDD;color:#0000FF;"><PRE>                completionBlock(nil, error)</PRE></TD></TR><TR><TD><PRE>49</PRE></TD><TD style="width:900px;background-color:#DDDDDD;color:#0000FF;"><PRE>                return</PRE></TD></TR><TR><TD><PRE>50</PRE></TD><TD style="width:900px;background-color:#DDDDDD;color:#0000FF;"><PRE>            }</PRE></TD></TR></TABLE></SPAN>
<br/>

<br/>
          </li>

<!-- end - step -->


<!-- begin - step -->

          <li class="lastLevel">
<br/><p><b>
63. Record a Custom Analytics Event</b></p><br/>

Please copy this segment of code from the MySampleApp project into your own project.<br/><br/>

To record a custom event, just name your custom event type, and optionally, you may also add custom attributes and metrics to your custom event.
<br/>
<SPAN style="font-family: courier"><A TARGET="_BLANK" HREF="file:../MySampleApp/MySampleApp/Demo/AppAnalytics/AppAnalyticsViewController.swift">MySampleApp/MySampleApp/Demo/AppAnalytics/AppAnalyticsViewController.swift</A></SPAN><BR/><BR/><SPAN style="font-family: courier"><TABLE style="border:0; "><TR><TD><PRE>15</PRE></TD><TD style="width:900px;background-color:#DDDDDD;color:#0000FF;"><PRE>        let eventClient = AWSMobileClient.sharedInstance.mobileAnalytics.eventClient</PRE></TD></TR><TR><TD><PRE>16</PRE></TD><TD style="width:900px;background-color:#DDDDDD;color:#0000FF;"><PRE>        let event = eventClient.createEventWithEventType("DemoCustomEvent")</PRE></TD></TR><TR><TD><PRE>17</PRE></TD><TD style="width:900px;background-color:#DDDDDD;color:#0000FF;"><PRE>        event.addAttribute("DemoAttributeValue1", forKey: "DemoAttribute1")</PRE></TD></TR><TR><TD><PRE>18</PRE></TD><TD style="width:900px;background-color:#DDDDDD;color:#0000FF;"><PRE>        event.addAttribute("DemoAttributeValue2", forKey: "DemoAttribute2")</PRE></TD></TR><TR><TD><PRE>19</PRE></TD><TD style="width:900px;background-color:#DDDDDD;color:#0000FF;"><PRE>        event.addMetric(Int((arc4random() % 65535)), forKey: "DemoMetric")</PRE></TD></TR><TR><TD><PRE>20</PRE></TD><TD style="width:900px;background-color:#DDDDDD;color:#0000FF;"><PRE>        eventClient.recordEvent(event)</PRE></TD></TR></TABLE></SPAN>
<br/>

<br/>
          </li>

<!-- end - step -->


<!-- begin - step -->

          <li class="lastLevel">
<br/><p><b>
64. Record a Monetization Analytics Event</b></p><br/>

Please copy this segment of code from the MySampleApp project into your own project.<br/><br/>

To record an Apple monetization event, specify the productId, price, locale, quantity and transactionId.
<br/>
<SPAN style="font-family: courier"><A TARGET="_BLANK" HREF="file:../MySampleApp/MySampleApp/Demo/AppAnalytics/AppAnalyticsViewController.swift">MySampleApp/MySampleApp/Demo/AppAnalytics/AppAnalyticsViewController.swift</A></SPAN><BR/><BR/><SPAN style="font-family: courier"><TABLE style="border:0; "><TR><TD><PRE>38</PRE></TD><TD style="width:900px;background-color:#DDDDDD;color:#0000FF;"><PRE>        let eventClient = AWSMobileClient.sharedInstance.mobileAnalytics.eventClient</PRE></TD></TR><TR><TD><PRE>39</PRE></TD><TD style="width:900px;background-color:#DDDDDD;color:#0000FF;"><PRE>        let eventBuilder = AWSMobileAnalyticsAppleMonetizationEventBuilder(eventClient: eventClient)</PRE></TD></TR><TR><TD><PRE>40</PRE></TD><TD style="width:900px;background-color:#DDDDDD;color:#0000FF;"><PRE>        eventBuilder.withProductId("DEMO_PRODUCT_ID")</PRE></TD></TR><TR><TD><PRE>41</PRE></TD><TD style="width:900px;background-color:#DDDDDD;color:#0000FF;"><PRE>        eventBuilder.withItemPrice(1.00, andPriceLocale: NSLocale(localeIdentifier: "en_US"))</PRE></TD></TR><TR><TD><PRE>42</PRE></TD><TD style="width:900px;background-color:#DDDDDD;color:#0000FF;"><PRE>        eventBuilder.withQuantity(1)</PRE></TD></TR><TR><TD><PRE>43</PRE></TD><TD style="width:900px;background-color:#DDDDDD;color:#0000FF;"><PRE>        eventBuilder.withTransactionId("DEMO_TRANSACTION_ID")</PRE></TD></TR><TR><TD><PRE>44</PRE></TD><TD style="width:900px;background-color:#DDDDDD;color:#0000FF;"><PRE>        let event = eventBuilder.build()</PRE></TD></TR><TR><TD><PRE>45</PRE></TD><TD style="width:900px;background-color:#DDDDDD;color:#0000FF;"><PRE>        eventClient.recordEvent(event)</PRE></TD></TR></TABLE></SPAN>
<br/>

<br/>
          </li>

<!-- end - step -->


<!-- begin - step -->

          <li class="lastLevel">
<br/><p><b>
65. Invoke a Lambda Function</b></p><br/>

Please copy this segment of code from the MySampleApp project into your own project.<br/><br/>

You may invoke your AWS Lambda functions by name and pass them any parameters you wish. To call the functions, use the default service client. Note that when you copy this section, you may want to implement different error handling, so that you do not show the error details directly to your app users.
<br/>
<SPAN style="font-family: courier"><A TARGET="_BLANK" HREF="file:../MySampleApp/MySampleApp/Demo/CloudLogic/CloudLogicViewController.swift">MySampleApp/MySampleApp/Demo/CloudLogic/CloudLogicViewController.swift</A></SPAN><BR/><BR/><SPAN style="font-family: courier"><TABLE style="border:0; "><TR><TD><PRE>88</PRE></TD><TD style="width:900px;background-color:#DDDDDD;color:#0000FF;"><PRE>        AWSCloudLogic.defaultCloudLogic().invokeFunction(functionName,</PRE></TD></TR><TR><TD><PRE>89</PRE></TD><TD style="width:900px;background-color:#DDDDDD;color:#0000FF;"><PRE>            withParameters: parameters, completionBlock: {(result: AnyObject?, error: NSError?) -> Void in</PRE></TD></TR><TR><TD><PRE>90</PRE></TD><TD style="width:900px;background-color:#DDDDDD;color:#0000FF;"><PRE>                if let result = result {</PRE></TD></TR><TR><TD><PRE>91</PRE></TD><TD style="width:900px;background-color:#DDDDDD;color:#0000FF;"><PRE>                    dispatch_async(dispatch_get_main_queue(), {</PRE></TD></TR><TR><TD><PRE>92</PRE></TD><TD style="width:900px;background-color:#DDDDDD;color:#0000FF;"><PRE>                        print("CloudLogicViewController: Result: \(result)")</PRE></TD></TR><TR><TD><PRE>93</PRE></TD><TD style="width:900px;background-color:#DDDDDD;color:#0000FF;"><PRE>                        self.activityIndicator.stopAnimating()</PRE></TD></TR><TR><TD><PRE>94</PRE></TD><TD style="width:900px;background-color:#DDDDDD;color:#0000FF;"><PRE>                        self.resultTextView.text = prettyPrintJson(result)</PRE></TD></TR><TR><TD><PRE>95</PRE></TD><TD style="width:900px;background-color:#DDDDDD;color:#0000FF;"><PRE>                    })</PRE></TD></TR><TR><TD><PRE>96</PRE></TD><TD style="width:900px;background-color:#DDDDDD;color:#0000FF;"><PRE>                }</PRE></TD></TR><TR><TD><PRE>97</PRE></TD><TD style="width:900px;background-color:#DDDDDD;color:#0000FF;"><PRE>                var errorMessage: String</PRE></TD></TR><TR><TD><PRE>98</PRE></TD><TD style="width:900px;background-color:#DDDDDD;color:#0000FF;"><PRE>                if let error = error {</PRE></TD></TR><TR><TD><PRE>99</PRE></TD><TD style="width:900px;background-color:#DDDDDD;color:#0000FF;"><PRE>                    if let cloudUserInfo = error.userInfo as? [String: AnyObject],</PRE></TD></TR><TR><TD><PRE>100</PRE></TD><TD style="width:900px;background-color:#DDDDDD;color:#0000FF;"><PRE>                        cloudMessage = cloudUserInfo["errorMessage"] as? String {</PRE></TD></TR><TR><TD><PRE>101</PRE></TD><TD style="width:900px;background-color:#DDDDDD;color:#0000FF;"><PRE>                        errorMessage = "Error: \(cloudMessage)"</PRE></TD></TR><TR><TD><PRE>102</PRE></TD><TD style="width:900px;background-color:#DDDDDD;color:#0000FF;"><PRE>                    } else {</PRE></TD></TR><TR><TD><PRE>103</PRE></TD><TD style="width:900px;background-color:#DDDDDD;color:#0000FF;"><PRE>                        errorMessage = "Error occurred in invoking the Lambda Function. No error message found."</PRE></TD></TR><TR><TD><PRE>104</PRE></TD><TD style="width:900px;background-color:#DDDDDD;color:#0000FF;"><PRE>                    }</PRE></TD></TR><TR><TD><PRE>105</PRE></TD><TD style="width:900px;background-color:#DDDDDD;color:#0000FF;"><PRE>                    dispatch_async(dispatch_get_main_queue(), {</PRE></TD></TR><TR><TD><PRE>106</PRE></TD><TD style="width:900px;background-color:#DDDDDD;color:#0000FF;"><PRE>                        print("Error occurred in invoking Lambda Function: \(error)")</PRE></TD></TR><TR><TD><PRE>107</PRE></TD><TD style="width:900px;background-color:#DDDDDD;color:#0000FF;"><PRE>                        self.activityIndicator.stopAnimating()</PRE></TD></TR><TR><TD><PRE>108</PRE></TD><TD style="width:900px;background-color:#DDDDDD;color:#0000FF;"><PRE>                        self.resultTextView.text = errorMessage</PRE></TD></TR><TR><TD><PRE>109</PRE></TD><TD style="width:900px;background-color:#DDDDDD;color:#0000FF;"><PRE>                        let alertView = UIAlertController(title: NSLocalizedString("Error", comment: "Title bar for error alert."), message: error.localizedDescription, preferredStyle: .Alert)</PRE></TD></TR><TR><TD><PRE>110</PRE></TD><TD style="width:900px;background-color:#DDDDDD;color:#0000FF;"><PRE>                        alertView.addAction(UIAlertAction(title: NSLocalizedString("Dismiss", comment: "Button on alert dialog."), style: .Default, handler: nil))</PRE></TD></TR><TR><TD><PRE>111</PRE></TD><TD style="width:900px;background-color:#DDDDDD;color:#0000FF;"><PRE>                        self.presentViewController(alertView, animated: true, completion: nil)</PRE></TD></TR><TR><TD><PRE>112</PRE></TD><TD style="width:900px;background-color:#DDDDDD;color:#0000FF;"><PRE>                    })</PRE></TD></TR><TR><TD><PRE>113</PRE></TD><TD style="width:900px;background-color:#DDDDDD;color:#0000FF;"><PRE>                }</PRE></TD></TR><TR><TD><PRE>114</PRE></TD><TD style="width:900px;background-color:#DDDDDD;color:#0000FF;"><PRE>        })</PRE></TD></TR><TR><TD><PRE>115</PRE></TD><TD style="width:900px;background-color:#DDDDDD;color:#0000FF;"><PRE>    }</PRE></TD></TR></TABLE></SPAN>
<br/>

<br/>
          </li>

<!-- end - step -->

        </ul>

<!-- end - steps list -->


<br/>
      </li>

<!-- end - sub-heading = Use as an Example -->


<!-- begin - sub-heading = Develop -->

      <li>
Software License

<!-- begin - steps list -->

        <ul>

<!-- begin - step -->

          <li class="lastLevel">
<br/><p><b>
66. Software License</b></p><br/>

This section simply provides information about the generated code in the MySampleApp project.<br/><br/>

Please refer to the following file for details about the license associated with the sample download project and the included software development kits (SDKs).
<br/>
<SPAN style="font-family: courier"><A TARGET="_BLANK" HREF="file:../LICENSE.txt">LICENSE.txt</A></SPAN>
<br/>
          </li>

<!-- end - step -->

        </ul>

<!-- end - steps list -->


<br/>
      </li>

<!-- end - sub-heading = Software License -->

    </ul>
  </li>

<!-- end - heading = Develop -->


<!-- begin - heading = Troubleshoot -->

  <li>
Troubleshoot
    <ul>

<!-- begin - sub-heading = Troubleshoot -->

      <li>
Development Environment Issues

<!-- begin - steps list -->

        <ul>

<!-- begin - step -->

          <li class="lastLevel">
<br/><p><b>
67. Xcode Version</b></p><br/>

Many issues can be resolved by simply upgrading to the latest version of the Xcode IDE (integrated development environment). You should be using Xcode version 7.1 or newer. You can check your Xcode version by going to the menu:<br/><br/><p><b>Xcode -&gt; About Xcode</b></p>
<br/>
          </li>

<!-- end - step -->

        </ul>

<!-- end - steps list -->


<br/>
      </li>

<!-- end - sub-heading = Development Environment Issues -->


<!-- begin - sub-heading = Troubleshoot -->

      <li>
Cloud Logic Issues

<!-- begin - steps list -->

        <ul>

<!-- begin - step -->

          <li class="lastLevel">
<br/><p><b>
68. Status Code 403 AccessDeniedException</b></p><br/>

If you try to invoke an AWS Lambda function from the app and you get an error that says, "User: ... is not authorized to perform: lambda:InvokeFunction on resource...AccessDeniedException." This is a security exception you are getting because your Identity and Access Management (IAM) user role does not have permission to invoke this specific AWS Lambda function. This typically happens when the AWS Lambda function name has been set incorrectly in the app. When this happens, there is no IAM policy in place for that role simply because that function name does not exist. Check to make sure that your AWS Lambda function name is correct in the app and that the function has been enabled in your project configuration (that it is checked under the Cloud Logic configuration section of your AWS Mobile Hub project).
<br/>
          </li>

<!-- end - step -->

        </ul>

<!-- end - steps list -->


<br/>
      </li>

<!-- end - sub-heading = Cloud Logic Issues -->

    </ul>
  </li>

<!-- end - heading = Troubleshoot -->

            </ul>
        </div>
    </body>
</html>
